<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor -->
<!-- license agreements; and to You under the Apache License, Version 2.0. -->

<form class="form-horizontal" #participantDetailForm="ngForm" (ngSubmit)="submitForm()">
	<div class="col-sm-10">
		<div class="form-group">
			<label class="control-label col-sm-4">First Name:</label>
			<div class="col-sm-4">
				<input class="form-control" [(ngModel)]="participant.firstName" name="firstName" maxlength="255" 
				[disabled]="!auth.canEditParticipantData()">
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-4">Last Name:</label>
			<div class="col-sm-4"> 
		  		<input class="form-control" [(ngModel)]="participant.lastName" name="lastName" maxlength="255" 
		  		[disabled]="!auth.canEditParticipantData()">
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-4">Email:</label>
			<div class="col-sm-4"> 
		  		<input class="form-control" [(ngModel)]="participant.email" name="email" type="email" 
		  		[disabled]="!auth.canEditParticipantData()">			  	
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-4">Organization:<span style="color: red;">*</span></label>
			<div class="col-sm-4"> 					
				<select class="form-control" [(ngModel)]="participant.organizationId" name="organization" required  
				[disabled]="!auth.canEditParticipantData()">
			      <option *ngFor="let o of organizations" [ngValue]="o.organizationId">{{ o.name }}</option>
	  			</select>
				</div>
				<div class="col-sm-2">
	  			<button class="btn btn-primary" routerLink="/organizationDetail" style="margin-bottom: 15px;" *ngIf="auth.canEditParticipantData()">
					<span class="icon icon-circle-with-plus" style="padding-right: 5px;"></span>Add New Organization
				</button>
			</div>			
		</div>

		<div class="form-group">
			<label class="control-label col-sm-4">Date Started:</label>
			<div class="col-sm-4"> 
			<input type="date" class="form-control" [(ngModel)]="participant.startDate" name="startDate" 
			[disabled]="!auth.canEditParticipantData()"/>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-4">Date Ended:</label>
			<div class="col-sm-4"> 
			<input type="date" class="form-control" [(ngModel)]="participant.endDate" name="endDate" 
			[disabled]="!auth.canEditParticipantData()"/>
			</div>
		</div>

	</div>
	<div style="text-align: center; clear: both;">			
		<button type="submit" class="btn btn-primary" *ngIf="auth.canEditParticipantData()">Save</button>
		<button type="cancel" class="btn btn-default" routerLink="/participants" *ngIf="auth.canEditParticipantData()">Cancel</button>	
		<button type="cancel" class="btn btn-default" routerLink="/participants" *ngIf="!auth.canEditParticipantData()">Back</button>	
	</div>
</form>